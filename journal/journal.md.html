                  <meta charset="utf-8">
                 **Development Journal**
            Ben Drews, Diego Gonzalez, Lylia Li
            bfd2@williams.edu
            drg4@williams.edu
            ll5@williams.edu


2016-10-13: Adding some GUI (Lylia)
=====================================================
I added GUI to the App class that control several parameters for tree creation, including the max recursion depth, initial height of the tree, number of circle points in the generated cylinders, number of branch sections, and a drop-down list to choose different phenotype callback functions.


2016-10-13: Abstracting makeBranch method (Lylia)
=====================================================
Broke up the makeBranch method so that it takes a callback function that determines the dimensions of the branches it makes in the recursive calls of makeBranch. This will allow us to write different callback functions to specify the rotation and translation of the next branches, how many next branches there will be, and what their lengths will be in relation to the previous branch. Each callback function will return an array of BranchDimensions, which is a new class I wrote to hold the CoordinateFrames and lengths of the next branches that will be made.

The first callback function I implemented was Diego's spiky tree:

![Spiky tree generated with 4 recursive calls](spikyTreeCallback4.png width=300px) ![Spiky tree generated with 7 recursive calls](spikyTreeCallback7.png width=300px)

I'm not sure if this is exactly how Diego's spiky tree looked before I abstracted parts of makeBranch, so I'll have to check with him to verify that all is well. 


2016-10-13: Adding OBJ file support (Diego)
=====================================================
Added OBJ file support to the Mesh class. This required me to read up on the OBJ file format but once I understood how to declare the vertices and the faces, the transition to OBJ from OFF was fairly simple. There is no texture support yet, but Ben will work on that tomorrow.


2016-10-10: Adding Leaves (Diego)
===========================================================
To add leaves, all we're going to do is have a separate OFF file. At the last recursion level, we will add a double sided triangle straight up in the coordinate frame given by the branches. Then in the scene, we will just put the two models at the same position, one colored brown and the other colored green.

Implementing this was fairly easy given how we set up our recursive branch function. 

![](firstLeaves.png)

The leaves' sizes were decided based on the length given to it by its parent branch. After seeing the first result, I decided to make the leaves a little bigger.

![](secondLeaves.png)

Then just for fun, I decided to see how the leaves looked with different rule sets.

![](thirdLeaves.png)

![](fourthLeaves.png)


2016-10-10: Playing with recursion levels and new lengths (Diego)
==============================================================
By upping the recursion levels to 10 and making the new lengths of branches 4/5 of the old branch length, we got this bush structure

![](accidentalBush.png)

By taking the same exact rule set and just changing the new lengths of branches to be 3/5 of the old branch length, we got this tree structure

![](accidentalRealTree.png)


2016-10-09: Debugging our Tree pt2 (Ben + Diego)
==========================================================
So the issue with our floating trees from before was that instead of moving the coordinate frames to the branch end, we were simply translating them by that distance. This was fixed by setting the translation of the coordinate frames to be at the end of the branch.

![](goodTree.png)


2016-10-08: Debugging our Tree (Diego)
===========================================================
So for some reason our trees are looking like this:

![](secondTree.png)

For debugging purposes, I made a tree with no branches with a pitch of 30 degrees.

![](branchEndBug.png)

So it seems like the coordinate frame translation is our issue. After looking through the code, I noticed that we had one coordinate frame for our branch start and one for our branch end. To fix this, I simply made one coordinate frame for the entire branch.

![](floatingTrees.png)

After fixing that bug, the second set of branches are floating above their parent branch. I was wondering if it had to do with the rotation of the second set of branches, so I rotated the entire set of branches.

![](rotatedTree.png)

So it has nothing to do with that, and is something to do with how the recursion is handled.


2016-10-06: Inital Design (Ben + Diego + Lylia)
=====================================================
**makeTree**
Parameters: branchLength, recursiveDepth

This method calls makeBranch and generates the final Mesh/OFF file that will contain our tree.

**makeBranch**
Parameters: Initial CoordinateFrame, length, callback function that returns a CoordinateFrame, callback function that returns the radius of the branch at that point, Mesh that we're adding to, number of points around the circle, number of sections around the curve

This method will call Ben's addCylindricSection method.

When the method reaches zero recursive depth, it calls addLeaves to add leaves to the end of the branch.

After adding our code, the tree we generate looks like this:

![](firstTree.png)


2016-10-06: Inital Planning (Ben + Diego + Lylia)
=====================================================
**MVP Goals**
We will eventually be able to procedurally generate trees that look similar to these:

![](tree1.png)
![](tree2.jpg) ![](tree3.jpg) ![](tree4.jpg)

The leaves will be mapped onto quads, so they will look similar to this:

![](leaves1.jpg) ![](leaves2.jpg)

It is easy for us to imagine an algorithm to generate a tree by recursively adding smaller cylinders to a larger cylinder. However, to make a realistic tree, the branching has to be somewhat randomized.

We aim to be able to generate trees that don't look generic and have varying shapes and sizes, like these trees:

![](design1.jpg)
![](design2.jpg)

**Polish Goals**

For polish, we will map bark textures to our trees.

We also want the branches of our trees to be smoothly connected:

![](curvegoals.jpg)

For our custom scene, we would like to make an orchard with trees that grow different things. For example, we could have an apple tree, a money tree, a teapot tree, and a wine glass tree in our orchard. This will show the variation between same "species" of procedurally generated trees.

![](design4.jpg)

Additionally, we would like to make a forest of all types of different trees.

Finally, we think it would be cool to make trees with roots that are mapped to the surface of a sphere, or planet, like in the Little Prince.

![](design5.jpg)


<!-- Markdeep: -->
<style class="fallback">body{visibility:hidden;white-space:pre;font-family:monospace;}</style><script src="https://casual-effects.com/markdeep/latest/markdeep.min.js"></script><script>window.alreadyProcessedMarkdeep||(document.body.style.visibility="visible")</script>